# Клоковое Дерево PSG

## Снаружи

В области PSG такое:

![image](https://user-images.githubusercontent.com/5828819/189532131-c1bba1f1-f104-4d26-8747-739a41bbed4e.png)

- Входной клок слева внизу приходит на сильную ячейку (buf? super-not?)
- Потом на not
- Потом уже непосредственно заходит в PSG на ещё одну ячейку not
- То есть две промежуточные not можно как бы не учитывать.

Входной клок приходит снизу:
- С терминала Z80_CLK
- Куда-то ещё влево уходит, уже нет смысла отслеживать

![image](https://user-images.githubusercontent.com/5828819/189531869-1f1e47c2-7f20-40f4-84f5-62f999ab6030.png)

## Внутри

На входе стоит специальная ячейка-сплиттер клока (clk_gen) + делитель:

![image](https://user-images.githubusercontent.com/5828819/189532518-c890a300-7e2e-4062-8671-c455de62b732.png)

Сплиттер (фазовый расщепитель):

![image](https://user-images.githubusercontent.com/5828819/189533050-574eb151-a585-443c-aa10-63ce3d2917fd.png)

По последним научным данным оно работает так:

![image](https://user-images.githubusercontent.com/5828819/189532559-f9f13671-ce48-4d07-b6b1-8e17289e1bc3.png)

И далее внутри PSG наблюдается Дабл-Дабл-Rails для клока. То есть не просто 2 комплементарных шланга для CLK, а 4 - два комплемента для CLK=0 и два комплемента для CLK=1. Безумству нет предела.

С делителя расходится так:

![image](https://user-images.githubusercontent.com/5828819/189532689-1cd10aff-da9a-4b22-b837-a8547770aac5.png)

Надо только дополнить что с делителя не совсем комплементы, а ещё со скважностью. 

Я ещё не изучил полярность Z80_CLK пада и полярность промежуточной сильной ячейки.
Вроде как Z80_CLK не инвертирует вход.
А сильная ячейка - инвертирует.
То есть эффективно так: Z80_CLK -> SuperNot -> Not -> Not -> CLK_Gen.

Ну и дальше мы ещё исследуем и дополним.
