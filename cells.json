{
	"info":
	{
		"descr": "JSON contains all the information about the PSG cells.",
		"url": "https://github.com/emu-russia/VDP-PSG/blob/main/cells.md"
	},

	"map":
	{
		"row_names": [ "A", "B", "C", "D", "E", "F", "G", "H" ],
		"rows":
		[
			[
				"not", "nand", "nand", "comp_weak", "comp_weak", "comp_weak",
				"nand3", "nand3", "nand3", "nand3", "nand3", "nand3", "nand3", "nand3", 
				"not", "nand", "nand", "comp_weak", "comp_weak", "comp_weak", 
				"nand3", "nand3", "nand3", "nand3", "nand3", "nand3", "nand3", "nand3", 
				"not", "nand", "nand", "comp_weak", "comp_weak", "comp_weak", 
				"nand3", "nand3", "nand3", "nand3", "nand3", "nand3", "nand3", "nand3", 
				"not", "nand", "nand", "comp_weak", "comp_weak", "comp_weak", 
				"nand3", "nand3", "nand3", "nand3", "nand3", "nand3", "nand3", "nand3"
			],

			[
				"notif0", "or", "dlatch", "notif0", "or", "dlatch", "notif0", "or", "dlatch", "notif0", "or", "dlatch", "comp_strong",
				"notif0", "or", "dlatch", "notif0", "or", "dlatch", "notif0", "or", "dlatch", "notif0", "or", "dlatch", "comp_strong",
				"notif0", "or", "dlatch", "notif0", "or", "dlatch", "notif0", "or", "dlatch", "notif0", "or", "dlatch", "comp_strong",
				"notif0", "or", "dlatch", "notif0", "or", "dlatch", "notif0", "or", "dlatch", "notif0", "or", "dlatch", "comp_strong", "not_strong"
			],

			[
				"dlatch", "and", "and", "comp_strong", "dlatch", "and", "dlatch", "dlatch", "and", "dlatch", "dlatch", "and", "dlatch", "dlatch", "and", "or", "not",
				"dlatch", "and", "or", "dlatch", "and", "or", "dlatch", "and", "or", "comp_strong",
				"not", "aoi21", "and3", "not", "aoi21", "and3", "or", "not", "and", "and", "not", "aoi21", "and3", "and", "and",
				"not", "aoi21", "and3", "not", "aoi21", "and3", "and", "and", "not", "aoi21", "and3",
				"and3", "aoi21", "not", "and3", "aoi21", "not",     "not", "not",     "not", "not", "not", "nor", "nor", "nor", "nor"
			],

			[
				"dlatch", "dlatch", "dlatch", "dlatch", "dlatch", "dlatch", "dlatch", "dlatch", "dlatch", "dlatch", "dlatch", "dlatch", "dlatch", "dlatch", "dlatch", "dlatch", "dlatch", "dlatch",
				"comp_strong", "comp_strong", "comp_strong",
				"dlatch", "dlatch", "dlatch", "dlatch", "dlatch", "dlatch", "dlatch", "dlatch", "dlatch", "dlatch", "dlatch", "dlatch",
				"comp_strong", "comp_strong", "comp_strong",
				"and", "and", "and", "and", "dlatch", "dlatch", "dlatch", "comp_strong"
			],

			[
				"aon2222", "cgi2a", "aon2222", "cgi2a", "aon2222", "cgi2a", "aon2222", "cgi2a", "aon2222", "cgi2a", "aon2222", "cgi2a", "aon2222", "cgi2a", "aon2222", "cgi2a", "aon2222", "cgi2a", "aon2222", "cgi2a",
				"not", "nand", "sr_bit", "not", "nand", "sr_bit", "not", "nand", "sr_bit", "not", "nand", "sr_bit",     "nor3", "not", "sr_bit", "sr_bit", "sr_bit", "sr_bit", "sr_bit"
			],

			[
				"sr_bit", "sr_bit", "sr_bit", "sr_bit", "sr_bit", "sr_bit", "sr_bit", "sr_bit", "sr_bit", "sr_bit",
				"sr_bit", "sr_bit", "sr_bit", "sr_bit", "sr_bit", "sr_bit", "sr_bit", "sr_bit", "sr_bit", "sr_bit",
				"sr_bit", "sr_bit", "sr_bit", "sr_bit", "sr_bit", "sr_bit", "sr_bit", "sr_bit", "sr_bit", "sr_bit",
				"sr_bit", "sr_bit", "sr_bit", "sr_bit", "sr_bit", "sr_bit", "sr_bit", "sr_bit", "sr_bit", "sr_bit",
				"nor", "and", "cnt_bit", "and", "cnt_bit", "and", "cnt_bit", "and", "cnt_bit", "nor3", "nor3", "not"
			],

			[
				"and", "ha", "and", "ha", "and", "ha", "and", "ha", "and", "ha", "and", "ha", "and", "ha", "and", "ha", "and", "ha", "and", "ha",
				"xor",
				"lfsr_bit", "lfsr_bit", "lfsr_bit", "lfsr_bit", "lfsr_bit", "lfsr_bit", "lfsr_bit", "lfsr_bit", "lfsr_bit", "lfsr_bit", "lfsr_bit", "lfsr_bit", "lfsr_bit", "lfsr_bit", "lfsr_bit", "lfsr_bit",
				"nand", "nand", "nand3"
			],

			[
				"not", "clkgen", "dff",
				"sr_bit", "not", "and", "nor", "sr_bit", "cnt_bit", "slatch_inv", "not", "nand",
				"buf", "not", "buf", "nand", "not", "buf", "buf", 
				"rs", "nor", "dff", "sr_bit", "dff", "not", "not_strong", "nor3",
				"rs", "dff", "nor", "not", "nand", "not_strong", "not_strong", "nand", "nor3", "and", "not", "sr_bit", "aon22",
				"not", "nand", "and", "not", "nand", "and", "not", "nand", "and", "nand", "and"
			]
		],
		"placement":
		[
			[
				"e", "e", "e", "e", "e", "e",
				"e", "e", "e", "e", "e", "e", "e", "e", 
				"e", "e", "e", "e", "e", "e", 
				"e", "e", "e", "e", "e", "e", "e", "e", 
				"e", "e", "e", "e", "e", "e", 
				"e", "e", "e", "e", "e", "e", "e", "e", 
				"e", "e", "e", "e", "e", "e", 
				"e", "e", "e", "e", "e", "e", "e", "e"
			],

			[
				"e", "e", "e", "e", "e", "e", "e", "e", "e", "e", "e", "e", "e",
				"e", "e", "e", "e", "e", "e", "e", "e", "e", "e", "e", "e", "e",
				"e", "e", "e", "e", "e", "e", "e", "e", "e", "e", "e", "e", "e",
				"e", "e", "e", "e", "e", "e", "e", "e", "e", "e", "e", "e", "e", "e"
			],

			[
				"r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r",
				"r", "r", "r", "r", "r", "r", "r", "r", "r", "r",
				"r", "r", "r", "r", "r", "r", "r", "r", "rf", "rf", "r", "r", "r", "rf", "rf",
				"r", "r", "r", "r", "r", "r", "rf", "rf", "r", "r", "r",
				"rf", "rf", "rf", "rf", "rf", "rf",    "r", "r",    "rf", "rf", "rf", "r",    "rf", "rf", "rf"
			],

			[
				"e", "e", "e", "e", "e", "e", "e", "e", "e", "e", "e", "e", "e", "e", "e", "e", "e", "e",
				"e", "e", "e",
				"e", "e", "e", "e", "e", "e", "e", "e", "e", "e", "e", "e",
				"e", "e", "e",
				"e", "e", "e", "e", "e", "e", "e", "e"
			],

			[
				"r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r",
				"r", "rf", "rf", "r", "rf", "rf", "r", "rf", "rf", "r", "rf", "rf",      "rf", "r", "rf", "rf", "rf", "rf", "rf"
			],

			[
				"e", "e", "e", "e", "e", "e", "e", "e", "e", "e",
				"e", "e", "e", "e", "e", "e", "e", "e", "e", "e",
				"e", "e", "e", "e", "e", "e", "e", "e", "e", "e",
				"e", "e", "e", "e", "e", "e", "e", "e", "e", "e",
				"e", "ef", "e", "ef", "e", "ef", "ef", "e", "e", "ef", "ef", "e"
			],

			[
				"r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r",
				"r",
				"r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r",
				"rf", "rf", "rf"
			],

			[
				"e", "e", "e",
				"ef", "e", "ef", "ef", "ef", "e", "e", "e", "ef",
				"e", "e", "e", "ef", "e", "e", "e", 
				"e", "ef", "e", "ef", "e", "e", "e", "ef",
				"e", "e", "ef", "e", "ef", "e", "ef", "e", "ef", "e", "ef", "e", "e",
				"ef", "ef", "ef", "e", "ef", "ef", "e", "ef", "ef", "ef", "ef"
			]
		]
	},

	"cells":
	{
		"not":
		{
			"notes": "писюн",
			"type": "CellNot",
			"width": 9.33,
			"height": 30
		},

		"nand":
		{
			"notes": "писюн с вывернутым яйцом",
			"type": "CellLogic",
			"width": 12.53,
			"height": 30,
			"ports":
			[
				{ "type": "input", "x": 8.89, "y": 29.67, "name": "a" },
				{ "type": "input", "x": 6.51, "y": 29.58, "name": "b" },
				{ "type": "output", "x": 1.74, "y": 18.24, "name": "x" }
			]
		},

		"nor":
		{
			"notes": "флипнутый снизу-вверх nand",
			"type": "CellLogic",
			"width": 12.53,
			"height": 30
		},

		"comp_weak":
		{
			"notes": "Слабый комплементарный буфер. писюн в шляпе.",
			"type": "CellBuffer",
			"width": 13.61,
			"height": 30,
			"ports":
			[
				{ "type": "input", "x": 4.8, "y": 29.41, "name": "a" },
				{ "type": "output", "x": 8.7, "y": 16.74, "name": "nx" },
				{ "type": "output", "x": 13.37, "y": 16.84, "name": "x" }
			]
		},

		"nand3":
		{
			"notes": "кочерга",
			"type": "CellLogic",
			"width": 16.26,
			"height": 30
		},

		"nor3":
		{
			"notes": "флипнутая кочерга",
			"type": "CellLogic",
			"width": 16.26,
			"height": 30
		},

		"dlatch":
		{
			"type": "CellLatch",
			"width": 29.2,
			"height": 29
		},

		"comp_strong":
		{
			"notes": "Поскольку шнуровка для комплемента находится снаружи ячеек, для превращения одиночного `Enable` в два комплементарных сигнала используется этот комплементарный буфер.",
			"type": "CellBuffer",
			"width": 16,
			"height": 29
		},

		"or":
		{
			"notes": "чел",
			"type": "CellLogic",
			"width": 16.46,
			"height": 29
		},

		"and":
		{
			"notes": "флипнутый чел",
			"type": "CellLogic",
			"width": 16.46,
			"height": 29
		},

		"notif0":
		{
			"type": "CellBusSupp",
			"width": 16.53,
			"height": 29
		},

		"cgi2a":
		{
			"notes": "Генератор переноса инвертирующий с одним инверсным входом",
			"type": "CellAdder",
			"width": 28,
			"height": 29
		},

		"sr_bit":
		{
			"type": "CellLatch",
			"width": 20.87,
			"height": 29
		},

		"dff":
		{
			"notes": "ещё такая",
			"type": "CellFlipFlop",
			"width": 42.5,
			"height": 29
		},

		"lfsr_bit":
		{
			"notes": "Используется для шумового канала. Ячейка представляет собой регистр сдвига с обратной связью. Выход замешивается на вход с тремя дополнительными замесами через операцию aoi.",
			"type": "CellLatch",
			"width": 37.5,
			"height": 29
		},

		"buf":
		{
			"notes": "Обычный супер-буфер",
			"type": "CellBuffer",
			"width": 17,
			"height": 29
		},

		"clkgen":
		{
			"notes": "Расщепитель одиночной фазы CLK на 4 комплемента (CLK Distribution).",
			"type": "CellOther",
			"width": 210,
			"height": 29
		},

		"aoi21":
		{
			"notes": "2-AND into 2-NOR gate",
			"type": "CellLogic",
			"width": 17.42,
			"height": 30
		},

		"oai21":
		{
			"notes": "2-OR into 2-NAND gate",
			"type": "CellLogic",
			"width": 17.42,
			"height": 30
		},		

		"and3":
		{
			"notes": "длинный чел",
			"type": "CellLogic",
			"width": 21,
			"height": 30
		},

		"or3":
		{
			"notes": "флипнутый длинный чел",
			"type": "CellLogic",
			"width": 21,
			"height": 30
		},

		"cnt_bit":
		{
			"notes": "Разряд счётчика. В PSG carry_out не используется, т.к. все счётчики 1-разрядные.",
			"type": "CellAdder",
			"width": 62,
			"height": 29
		},

		"aon22":
		{
			"notes": "В единственном экземпляре в правом нижнем углу.",
			"type": "CellLogic",
			"width": 23,
			"height": 29
		},

		"not_strong":
		{
			"notes": "Используется два спаренных инвертора для дополнительного драйва сигнала. Мощный писюн",
			"type": "CellNot",
			"width": 9.3,
			"height": 29
		},

		"ha":
		{
			"notes": "Half Adder. Встречается в ряду G.",
			"type": "CellAdder",
			"width": 36.5,
			"height": 29
		},

		"xor":
		{
			"notes": "В единственном экземпляре, по середине ряда G.",
			"type": "CellLogic",
			"width": 25,
			"height": 29
		},

		"slatch_inv":
		{
			"notes": "Значение хранится на затворе выходного инвертора. Вход Enable в комплементарной логике (\"dual-rails\").",
			"type": "CellLatch",
			"width": 15.5,
			"height": 29
		},

		"rs":
		{
			"notes": "В двух экземплярах, ряд H.",
			"type": "CellFlipFlop",
			"width": 30,
			"height": 29
		},

		"aon2222":
		{
			"notes": "Раньше входила в cgi2a, после разбора стало понятно что это отдельная ячейка.",
			"type": "CellLogic",
			"width": 45.4,
			"height": 29
		}
	}
}
