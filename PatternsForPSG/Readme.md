# Patterns for PSG

This section contains a database of cells for use in the [Patterns](https://github.com/emu-russia/Patterns) utility.

## Гайд по созданию базы данных ячеек PSG

- Картинки для ячеек были взяты прямо с вики и в Paint обрезаны по краям, чтобы задать чёткие границы ячеек
- Лямбда у всех ячеек = 6.0
- В Patterns тоже нужно выставить лямбду 6.0 и горизонтальные ряды (см. PSG_Only.wrk)
- Транзисторы пока не указаны (по нулям). Кому интересна статистика по трансам - нужно будет отдельно указывать в patterns_db.txt для каждой ячейки

TBD: Расставить порты для ячеек

## Сложности с комплементарными клонами

Инженеры YAMAHA видимо очень любят когда горит пукан. Поэтому они сделали абсолютно идентичные с виду nand и nor (просто отзеркалив ячейки сверху-вниз).

По итогам стало очень легко запутаться - где nand, а где nor, т.к. никаких визуальных пометок они не оставили:

![image](https://user-images.githubusercontent.com/5828819/183283453-cbb36bbc-ed5c-4826-ab9e-c60ed83dd71c.png)

Но если присмотреться и подумать, то можно открыть такое правило:
- В одном ряду ячеек НЕ может быть и NORM и FLIP ячеек. Может быть только NORM / NORM+MIRR или FLIP / FLIP+MIRR.
- Если вы нашли в ряду и FLIP и NORM, то очевидно одна из них не верная
